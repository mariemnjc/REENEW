<!-- app/views/salons/dashboard.html.erb -->
<div class="salons-container">
  <aside class="sidebar">
    <%= render "salons/sidebar" %>
  </aside>

  <main class="main-content">

<h2>Dashboard - <%= @salon.name %></h2>

<!-- Dropdown pour changer de mois -->
<div class="mb-4">
  <label for="month_select" class="form-label">Sélectionner le mois :</label>
  <%= select_tag "month", options_for_select([["Janvier", 1], ["Février", 2], ["Mars", 3], ["Avril", 4], ["Mai", 5], ["Juin", 6], ["Juillet", 7], ["Août", 8], ["Septembre", 9], ["Octobre", 10], ["Novembre", 11], ["Décembre", 12]], selected: Date.current.month), class: "form-select", id: "month_select" %>
</div>

<!-- Statistiques -->
<div class="row">
  <!-- Chiffre d'affaires -->
  <div class="col-md-4">
    <div class="card shadow-sm">
      <div class="card-header">
        <h5>Chiffre d'Affaires</h5>
      </div>
      <div class="card-body">
        <h3><%= number_to_currency(15000) %></h3>
        <small>CA de ce mois comparé à l'année dernière : <%= number_to_currency(14000) %></small>
        <div class="progress mt-3">
          <div class="progress-bar" role="progressbar" style="width: 107%" aria-valuenow="107" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
        <small class="d-block mt-2">+7% par rapport à l'année dernière</small>
      </div>
    </div>
  </div>

  <!-- Panier moyen -->
  <div class="col-md-4">
    <div class="card shadow-sm">
      <div class="card-header">
        <h5>Panier Moyen</h5>
      </div>
      <div class="card-body">
        <h3><%= number_to_currency(75) %></h3>
        <small>Panier moyen de ce mois</small>
      </div>
    </div>
  </div>

  <!-- Note globale -->
  <div class="col-md-4">
    <div class="card shadow-sm">
      <div class="card-header">
        <h5>Note Globale</h5>
      </div>
      <div class="card-body">
        <h3>4.5 / 5</h3>
        <small>Note moyenne des clients sur ce mois</small>
        <div class="mt-3">
          <h6>Derniers avis :</h6>
          <ul>
            <li>"Super expérience!" - 5 étoiles</li>
            <li>"Très bon service, je recommande!" - 4 étoiles</li>
            <li>"Expérience correcte" - 3 étoiles</li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Derniers nouveaux clients -->
<div class="card mt-4 shadow-sm">
  <div class="card-header">
    <h5>Derniers Nouveaux Clients</h5>
  </div>
  <div class="card-body">
    <ul>
      <li>Client 1 - Inscrit le <%= 1.day.ago.to_date %></li>
      <li>Client 2 - Inscrit le <%= 3.days.ago.to_date %></li>
      <li>Client 3 - Inscrit le <%= 5.days.ago.to_date %></li>
    </ul>
  </div>
</div>

<!-- Taux de rétention -->
<div class="card mt-4 shadow-sm">
  <div class="card-header">
    <h5>Taux de Rétention</h5>
  </div>
  <div class="card-body">
    <h3>85%</h3>
    <small>Taux de rétention des clients actifs sur les 6 derniers mois</small>
  </div>
</div>

<!-- Graphiques (exemple simplifié) -->
<div class="row mt-4">
  <!-- Graphique du Chiffre d'Affaires -->
  <div class="col-md-6">
    <div class="card shadow-sm">
      <div class="card-header">
        <h5>Évolution du Chiffre d'Affaires</h5>
      </div>
      <div class="card-body">
        <!-- Vous pouvez intégrer ici un graphique avec Chart.js ou un autre outil -->
        <canvas id="caChart" width="400" height="200"></canvas>
      </div>
    </div>
  </div>

  <!-- Graphique du taux de rétention -->
  <div class="col-md-6">
    <div class="card shadow-sm">
      <div class="card-header">
        <h5>Taux de Rétention</h5>
      </div>
      <div class="card-body">
        <canvas id="retentionChart" width="400" height="200"></canvas>
      </div>
    </div>
  </div>
</div>
  </main>
</div>
